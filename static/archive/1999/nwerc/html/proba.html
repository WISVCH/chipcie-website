<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>Problem A</title>
</head>

<body bgcolor="#D6D6D6" text="#637BBD">
</FONT><FONT FACE="Arial" SIZE=6><P ALIGN="CENTER">Problem A</P>
</FONT><FONT FACE="Arial" SIZE=5><P ALIGN="CENTER">Splitting Peas</P>
<P ALIGN="CENTER">Input: a.in</P>
</FONT><FONT SIZE=2>
<P>Splitting peas are a remarkable phenomenon. Every so often they all jump up and split themselves in two. Now imagine a straight line of cups, each one containing a certain number of splitting peas. To the left of the line of cups, there is a wall (we will get back to it later). When it is splitting time, all the peas jump up out of their cups, and split themselves in mid-air. From each splitted pea, the two resulting peas land in the two neighboring cups (one in each cup).</P>

<P>An example:</P><DIR>
<DIR>

<P><IMG SRC="Image1.gif" WIDTH=507 HEIGHT=70></P>
</DIR>
</DIR>

<P>In this configuration we have five cups, and one pea in the center cup. We will denote this configuration as (0,0,1,0,0). After one step (i.e. one splitting of the peas), we get the following configuration (0,1,0,1,0):</P>
<DIR>
<DIR>

<P><IMG SRC="Image2.gif" WIDTH=508 HEIGHT=79></P>
</DIR>
</DIR>

<P>One step later the configuration is (1,0,2,0,1), we leave it up to you to draw this one if you like. In the next step some special things happen, since there are peas in the leftmost cup and in the rightmost cup. The peas in the leftmost cup jump up, split, and one pea will go to the second cup from the left (as usual), but the other pea will bounce against the wall and land in the leftmost cup again. The peas in the rightmost cup will also jump up, split, and one pea will go to the second cup from the right (as usual), but the other pea will fall off the right side of the table and disappear. So the configuration after the next step will be (1,3,0,3,0):</P>
<DIR>
<DIR>

<P><IMG SRC="Image3.gif" WIDTH=611 HEIGHT=98>

<P>&nbsp;</P></DIR>
</DIR>
</P>
<P>Another example is the configuration (1,2,3,4,5), which becomes (3,4,6,8,4) in one step. We say that the <I>predecessor</I> of (3,4,6,8,4) is (1,2,3,4,5). Most configurations have a predecessor (which is always unique), some configurations however, do not have a predecessor: these configurations are called <I>root configurations</I>. In the first example we gave, (0,0,1,0,0) is obviously a root configuration, and in our second example (1,2,3,4,5) is also a root configuration.</P>

<P>&nbsp;</P>
<P>&nbsp;</P>
<P>You are given a configuration that resulted after a certain number of steps from some root configuration. It is up to you to calculate the number of steps that took place, in going from the unknown root configuration to the given input configuration.</P>
</FONT><B><FONT FACE="Arial"><DIR>
<DIR>

<P>Input</P></DIR>
</DIR>

</B></FONT><FONT SIZE=2><P>The first line of the input contains the number of runs <I>R</I> (1 &#8804; <I>R </I>= 10,000). For each run there is one line containing the number of cups <I>p</I> (2 &#8804; <I>p</I> &#8804; 1,000), followed by one line containing <I>p</I> integers <I>n<SUB>i</I></SUB>(0 &#8804; <I>n<SUB>i</I></SUB> &#8804; 1,000,000), representing the number of peas in cup <I>i</I> (from left to right).</P>

<P>&nbsp;</P><DIR>
<DIR>

</FONT><B><FONT FACE="Arial"><P>Output</P></DIR>
</DIR>

</B></FONT><FONT SIZE=2><P>For each run, the output should consist of one line containing the number of steps that have been taken to reach the given input configuration from a root configuration. </P>
</FONT>
<TABLE BORDER CELLSPACING=1 CELLPADDING=4 WIDTH=652>
<TR><TD WIDTH="55%" VALIGN="TOP">
<B><FONT FACE="Arial"><P>Sample Input</B></FONT></TD>
<TD WIDTH="45%" VALIGN="TOP">
<B><FONT FACE="Arial"><P>Output for the Sample Input</B></FONT></TD>
</TR>
<TR><TD WIDTH="55%" VALIGN="TOP" HEIGHT=77>
<FONT FACE="Courier New" SIZE=2><P>4</P>
<P>5</P>
<P>1 3 0 3 0</P>
<P>5</P>
<P>3 4 6 8 4</P>
<P>6</P>
<P>4 1 6 0 4 0</P>
<P>15</P>
<P>10 45 1 120 0 210 0 252 0 210 0 120 0 44 0</FONT></TD>
<TD WIDTH="45%" VALIGN="TOP" HEIGHT=77>
<FONT FACE="Courier New" SIZE=2><P>3</P>
<P>1</P>
<P>4</P>
<P>10</FONT></TD>
</TR>
</TABLE>



</body>
</html>
