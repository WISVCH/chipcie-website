<html>
<head>
<title>golf.c (html)</title></head>
<body bgcolor="white">
<pre>
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;

#define maxhole 10000

typedef enum {none,min1,plus1,maal2,over2} parents;
typedef struct field {
  int distance;
  parents next;
} field;
typedef struct queue {
  int index;
  int dist;
} queue;

int r,runs;
field hole[maxhole+1];
int size;
int fromhole,tohole;


void Init() {
  int i;
  for (i=1;i&lt;=size;i++) {
    hole[i].distance=maxhole*2;
    hole[i].next=none;
  }
}

void Dijkstra() {
  queue q[maxhole+1]; /* Index to hole */
  int qstart,qend;
  field *tmp;

  qstart=0;
  q[0].index=tohole;
  q[0].dist=0;
  qend=1;
  while (qend&gt;qstart) {
    if ((q[qstart].index % 2)==0) {
      tmp=&amp;(hole[q[qstart].index / 2]);
      if (q[qstart].dist&lt;tmp-&gt;distance) {
        tmp-&gt;distance=q[qstart].dist;
        tmp-&gt;next=maal2;
        q[qend].index=q[qstart].index / 2;
        q[qend].dist=q[qstart].dist+1;
        qend++;
      }
    }
    if (q[qstart].index&gt;1) {
      tmp=&amp;(hole[q[qstart].index-1]);
      if (q[qstart].dist&lt;tmp-&gt;distance) {
        tmp-&gt;distance=q[qstart].dist;
        tmp-&gt;next=plus1;
        q[qend].index=q[qstart].index-1;
        q[qend].dist=q[qstart].dist+1;
        qend++;
      }
    }
    if (q[qstart].index&lt;size) {
      tmp=&amp;(hole[q[qstart].index+1]);
      if (q[qstart].dist&lt;tmp-&gt;distance) {
        tmp-&gt;distance=q[qstart].dist;
        tmp-&gt;next=min1;
        q[qend].index=q[qstart].index+1;
        q[qend].dist=q[qstart].dist+1;
        qend++;
      }
    }
    if (q[qstart].index*2&lt;=size) {
      tmp=&amp;(hole[q[qstart].index*2]);
      if (q[qstart].dist&lt;tmp-&gt;distance) {
        tmp-&gt;distance=q[qstart].dist;
        tmp-&gt;next=over2;
        q[qend].index=q[qstart].index*2;
        q[qend].dist=q[qstart].dist+1;
        qend++;
      }
    }
    qstart++;
  }
}


void PrintPath() {
  int current=fromhole;
  printf("%d",current);
  while (current!=tohole) {
    switch (hole[current].next) {
      case none: break; /* eliminates gcc-warning */
      case min1: current-=1; break;
      case plus1: current+=1; break;
      case maal2: current*=2; break;
      case over2: current/=2; break;
    }
    printf(" %d",current);
  }
  printf("\n");
}

int main() {
  scanf("%d",&amp;runs);
  for (r=0;r&lt;runs;r++) {
    scanf("%d",&amp;size);
    Init();
    scanf("%d %d",&amp;fromhole,&amp;tohole);
    hole[tohole].distance=0;
    Dijkstra();
    PrintPath();
  }
  return(0);
}
</pre>
<hr noshade>
<address>Generated by Java2Html</address>
</body>
</html>
