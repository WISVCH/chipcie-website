<html>
<head>
<title>hadamard.c (html)</title></head>
<body bgcolor="white">
<pre>
/*
  hadamard.c -- C-uitwerking van de NKP'97-opgave "Hadamard"
  (c) 01/09/'97 Meinte Boersma
*/

#include &lt;stdio.h&gt;

#define max 1000
#define TRUE 1


typedef int bucketsort[max+1];
typedef struct {
  bucketsort rijbucket, kolombucket;
} Hmatrix;

int I, n, run;

void leesHadamard (Hmatrix *H)
{
  int i, j, aantal, getal;
  typedef int tabel[max+1];
  tabel rijeen, kolomeen;

  /* buckets legen */
  for (i=0; i&lt;=n; i++) {
    H-&gt;rijbucket[i] = 0;
    H-&gt;kolombucket[i] = 0;
  }
  /* 1_i (H^t) initialiseren */
  for (i=1; i&lt;=n; i++) {
    kolomeen[i] = 0;
  }
  /* matrix lezen en 1_i (H(t)), rij-bucket bijhouden */
  for (i=1; i&lt;=n; i++) {
    aantal = 0;
    for (j=1; j&lt;=n; j++) {
      scanf("%d", &amp;getal);
      if (getal==1) {
        aantal++;
        kolomeen[j]++;
      }
    }
    rijeen[j] = aantal;
    H-&gt;rijbucket[aantal]++;
  }
  /* kolom-bucket bepalen */
  for (j=1; j&lt;=n; j++) {
    aantal = kolomeen[j];
    H-&gt;kolombucket[aantal]++;
  }
}

void instantie (void)
{
  int t, equivalent;
  Hmatrix H1, H2;

  scanf("%d", &amp;n);
  leesHadamard(&amp;H1);
  leesHadamard(&amp;H2);
  /* buckets matchen */
  t = 0;
  equivalent = TRUE;
  while (equivalent &amp;&amp; (t&lt;=n)) {
    equivalent = ((H1.rijbucket[t]==H2.rijbucket[t]) &amp;&amp;
                  (H1.kolombucket[t]==H2.kolombucket[t]));
    t++;
  }
  /* buckets gelijk ==&gt; H1 ~ H2 */
  if (equivalent) {
    printf("equivalent\n");
  } else {
    printf("niet equivalent\n");
  }
}

int main (void)
{
  scanf("%d", &amp;I);
  for (run=0; run&lt;I; run++) {
    instantie();
  };
  return(0);
}
</pre>
<hr noshade>
<address>Generated by Java2Html</address>
</body>
</html>
